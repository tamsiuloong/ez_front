webpackJsonp([11],{555:function(t,e,o){var r=o(20)(o(657),o(766),null,null,null);t.exports=r.exports},584:function(t,e,o){t.exports={default:o(585),__esModule:!0}},585:function(t,e,o){o(587),t.exports=o(17).Number.isInteger},586:function(t,e,o){var r=o(30),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},587:function(t,e,o){var r=o(24);r(r.S,"Number",{isInteger:o(586)})},588:function(t,e,o){"use strict";function r(t){var e="",o=new Date;return o.setTime(t),e+=o.getFullYear(),e+="-"+n(o),e+="-"+a(o)}function n(t){var e="";return e=t.getMonth()+1,e<10&&(e="0"+e),e}function a(t){var e="";return e=t.getDate(),e<10&&(e="0"+e),e}e.a=r},657:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(584),n=o.n(r),a=o(208),s=o(588);e.default={data:function(){var t=function(t,e,o){""===e&&o(new Error("请输入购销合同名"))},e=function(t,e,o){if(""===e)return o(new Error("年龄不能为空"));setTimeout(function(){n()(e)?e<18?o(new Error("必须年满18！")):o():o(new Error("请输入整数"))},1e3)};return{count:0,gourpId:null,customerContract:null,tempIndex:0,pageSize:20,pageNo:1,totalPage:0,totalCount:0,contractNo:"",columns1:[{type:"selection",width:60,align:"center"},{title:"客户名字",key:"customName"},{title:"合同号",key:"contractNo"},{title:"货物数/附件数",key:"nums"},{title:"制单人",width:90,key:"inputBy"},{title:"验货员",key:"inspector"},{title:"签单日期",key:"signingDate",render:function(t,e){return t("div",o.i(s.a)(this.row.signingDate))}},{title:"交货期限",key:"deliveryPeriod",render:function(t,e){return t("div",o.i(s.a)(this.row.deliveryPeriod))}},{title:"船期",key:"shipTime",render:function(t,e){return t("div",o.i(s.a)(this.row.shipTime))}},{title:"总金额",width:80,key:"totalAmount"},{title:"状态",key:"state",width:80,render:function(t,e){var o=parseInt(e.row.state);return 0===o?"草稿":1===o?"已上报待保运":2===o?"已保运":"unkown"}}],self:this,data1:[],modal1:!1,modal2:!1,addForm:{lcno:"1",inputDate:"1",contractIds:"",customerContract:"",consignee:"consignee",marks:"marks",shipmentPort:"shipmentPort",destinationPort:"destinationPort",transportMode:"transportMode",priceCondition:"priceCondition",remark:"1",boxNums:"12",state:"0"},ruleCustom:{contractName:[{validator:t,trigger:"blur"}],id:[{validator:e,trigger:"blur"}]}}},methods:{reset:function(t){this.$refs[t].resetFields()},addExport:function(){null!=this.groupId&&""!=this.groupId?this.modal2=!0:this.$Message.warning("请至少选择一项")},add:function(){var t=this;this.addForm.contractIds="",this.addForm.customerContract="",this.groupId.forEach(function(e,o){t.addForm.contractIds+=e,o+1<t.groupId.length&&(t.addForm.contractIds+=",")}),this.customerContract.forEach(function(e,o){t.addForm.customerContract+=e,o+1<t.customerContract.length&&(t.addForm.customerContract+=",")});var e=this.addForm;o.i(a.a)({url:"/cargo/export",method:"post",data:e}).then(function(e){t.gopage(t.pageNo),t.$refs.addForm.resetFields(),t.$Message.success("Success!"),t.modal2=!1}).catch(function(e){t.$Message.error(e.response.data)})},change:function(t){1==t.length&&(this.updateForm=t[0],this.updateForm.importNum=this.updateForm.importNum+""),this.setGroupId(t),this.setCustomerContract(t)},setGroupId:function(t){this.groupId=[],this.count=t.length;for(var e=0;e<t.length;e++)this.groupId.push(t[e].id)},setCustomerContract:function(t){this.customerContract=[],this.count=t.length;for(var e=0;e<t.length;e++)this.customerContract.push(t[e].contractNo)},handleReset:function(t){this.$refs[t].resetFields()},gopage:function(){var t=this,e=this.pageNo,r=this.pageSize,n=this.contractNo;o.i(a.a)({url:"/cargo/contract/1",method:"get",params:{pageNo:e,pageSize:r,contractNo:n}}).then(function(o){t.data1=o.data.list,t.pageNo=e,t.pageSize=r,t.totalCount=o.data.totalCount})},search:function(){this.gopage()}},mounted:function(){this.gopage()}}},766:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"animated fadeIn"},[o("div",[o("Row",{staticStyle:{"margin-bottom":"25px"}},[o("Col",{attrs:{span:"8"}},[t._v("合同号：\n            "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入..."},model:{value:t.contractNo,callback:function(e){t.contractNo=e},expression:"contractNo"}})],1),t._v(" "),o("Col",{attrs:{span:"8"}},[o("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:function(e){t.search()}}},[t._v("搜索")])],1)],1)],1),t._v(" "),o("div",[o("ul",[o("li",[o("Button",{attrs:{type:"success",icon:"wrench"},on:{click:function(e){t.edit()}}},[t._v("打印")]),t._v(" "),o("Button",{attrs:{type:"error",icon:"trash-a"},on:{click:function(e){t.addExport()}}},[t._v("保运")])],1),t._v(" "),o("li",[o("div",{staticStyle:{padding:"10px 0"}},[o("Table",{attrs:{columns:t.columns1,data:t.data1},on:{"on-selection-change":function(e){t.change(e)}}})],1)]),t._v(" "),o("li",[o("div",{staticStyle:{"text-align":"right"}},[o("Page",{attrs:{total:t.totalCount,"page-size":t.pageSize,current:t.pageNo,align:"center"},on:{"on-change":t.gopage}})],1)])])]),t._v(" "),o("Modal",{attrs:{title:"新增出口保运",width:"60%"},on:{"on-ok":t.add,"on-cancel":t.cancel},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[o("Form",{ref:"addForm",attrs:{model:t.addForm,rules:t.ruleCustom,"label-width":80}},[o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"信用证号",prop:"lcno"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.lcno,callback:function(e){t.addForm.lcno=e},expression:"addForm.lcno"}})],1)],1),t._v(" "),o("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}}),t._v(" "),o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"收货人及地址",prop:"consignee"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.consignee,callback:function(e){t.addForm.consignee=e},expression:"addForm.consignee"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"唛头",prop:"marks"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.marks,callback:function(e){t.addForm.marks=e},expression:"addForm.marks"}})],1)],1),t._v(" "),o("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}}),t._v(" "),o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"装运港",prop:"shipmentPort"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.shipmentPort,callback:function(e){t.addForm.shipmentPort=e},expression:"addForm.shipmentPort"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"目的港",prop:"destinationPort"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.destinationPort,callback:function(e){t.addForm.destinationPort=e},expression:"addForm.destinationPort"}})],1)],1),t._v(" "),o("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}}),t._v(" "),o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"运输方式",prop:"transportMode"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.transportMode,callback:function(e){t.addForm.transportMode=e},expression:"addForm.transportMode"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"价格条件",prop:"priceCondition"}},[o("Input",{attrs:{type:"text"},model:{value:t.addForm.priceCondition,callback:function(e){t.addForm.priceCondition=e},expression:"addForm.priceCondition"}})],1)],1),t._v(" "),o("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}}),t._v(" "),o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"备注",prop:"remark"}},[o("Input",{attrs:{type:"textarea"},model:{value:t.addForm.remark,callback:function(e){t.addForm.remark=e},expression:"addForm.remark"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"24"}},[o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("保存")]),t._v(" "),o("Button",{attrs:{type:"ghost"},on:{click:function(e){t.reset("addForm")}}},[t._v("清空")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=11.de005def3e2853b21075.js.map