webpackJsonp([18],{547:function(t,e,a){var o=a(20)(a(649),a(763),null,null,null);t.exports=o.exports},584:function(t,e,a){t.exports={default:a(585),__esModule:!0}},585:function(t,e,a){a(587),t.exports=a(17).Number.isInteger},586:function(t,e,a){var o=a(30),n=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&n(t)===t}},587:function(t,e,a){var o=a(24);o(o.S,"Number",{isInteger:a(586)})},649:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(584),n=a.n(o),i=a(208);e.default={data:function(){var t=this,e=function(t,e,a){""===e&&a(new Error("请输入用户名"))},a=function(t,e,a){if(""===e)return a(new Error("年龄不能为空"));setTimeout(function(){n()(e)?e<18?a(new Error("必须年满18！")):a():a(new Error("请输入整数"))},1e3)};return{tempIndex:0,pageSize:2,pageNo:1,totalPage:0,totalCount:0,columns1:[{title:"编号",key:"id"},{title:"部门名字",key:"deptName"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"查看"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.edit(a.index)}}},"编辑"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(a.index)}}},"删除")])}}],self:this,data1:[{deptName:"王小明",id:18}],modal1:!1,modal2:!1,updateForm:{deptName:"",id:""},addForm:{deptName:""},ruleCustom:{deptName:[{validator:e,trigger:"blur"}],id:[{validator:a,trigger:"blur"}]}}},methods:{addDept:function(){this.modal2=!0},add:function(){var t=this,e=this.addForm;a.i(i.a)({url:"/system/dept",method:"post",data:e}).then(function(e){t.data1.unshift(e.data),t.$Message.success("Success!")})},show:function(t){this.$Modal.info({title:"部门信息",content:"姓名："+this.data1[t].deptName})},edit:function(t){this.modal1=!0,this.tempIndex=t,this.updateForm.deptName=this.data1[t].deptName},remove:function(t){var e=this,o=this.data1[t].id;a.i(i.a)({url:"/system/dept",method:"delete",params:{ids:o}}).then(function(a){"1"==a.data&&(e.$Message.success("Success!"),e.data1.splice(t,1))})},ok:function(){this.modal1=!1,this.$Message.info("点击了确定")},cancel:function(){this.$Message.info("点击了取消")},update:function(t){var e=this;this.data1[this.tempIndex].deptName=this.updateForm.deptName;var o=this.data1[this.tempIndex];a.i(i.a)({url:"/system/dept",method:"put",data:o}).then(function(t){e.$Message.success("Success!")})},handleReset:function(t){this.$refs[t].resetFields()},gopage:function(t){var e=this,o=this.pageSize;a.i(i.a)({url:"/system/dept",method:"get",params:{pageNo:t,pageSize:o}}).then(function(a){e.data1=a.data.list,e.pageNo=t,e.pageSize=o,e.totalCount=a.data.totalCount})}},created:function(){this.gopage(this.pageNo)}}},763:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("div",{attrs:{id:"container"}},[a("Icon",{attrs:{type:"android-add-circle"}}),t._v(" "),a("i-button",{attrs:{type:"error"},on:{click:t.addDept}},[t._v("添加部门")])],1),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{columns:t.columns1,data:t.data1}}),t._v(" "),a("Page",{attrs:{total:t.totalCount,"page-size":t.pageSize,current:t.pageNo,align:"center"},on:{"on-change":t.gopage}}),t._v(" "),a("Modal",{attrs:{title:"编辑用户",width:"60%"},on:{"on-ok":t.update,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"updateForm",attrs:{model:t.updateForm,rules:t.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"部门名字",prop:"deptName"}},[a("Input",{attrs:{type:"text"},model:{value:t.updateForm.deptName,callback:function(e){t.updateForm.deptName=e},expression:"updateForm.deptName"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:"添加用户",width:"60%"},on:{"on-ok":t.add,"on-cancel":t.cancel},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[a("Form",{ref:"addForm",attrs:{model:t.addForm,rules:t.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"部门名字",prop:"deptName"}},[a("Input",{attrs:{type:"text"},model:{value:t.addForm.deptName,callback:function(e){t.addForm.deptName=e},expression:"addForm.deptName"}})],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=18.27302bdd8c7c2e21d7da.js.map